{% extends "base.html" %} {% block head_content %} {% block css %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/pages/claims.css') }}"
/>
{% endblock %} {% endblock %} {% block content %}
<div class="dashboard-container">
  <div class="claims-header">
    <h1 class="section-title">Your Claims</h1>
    <a href="/claims_form" class="new-claim-btn">
      <i class="fa-solid fa-plus"></i>
      New Claim
    </a>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon stat-approved">
        <i
          class="fa-solid fa-circle-check"
          style="color: #63e6be; font-size: 25px"
        ></i>
      </div>
      <div class="stat-content">
        <p class="stat-label">Approved Claims</p>
        <p class="stat-value">{{approved_num}}</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon stat-pending">
        <i
          class="fa-solid fa-clock"
          style="color: #f59e0b; font-size: 25px"
        ></i>
      </div>
      <div class="stat-content">
        <p class="stat-label">Pending Claims</p>
        <p class="stat-value">{{pending_num}}</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon stat-rejected">
        <i
          class="fa-solid fa-xmark"
          style="color: #ef4444; font-size: 25px"
        ></i>
      </div>
      <div class="stat-content">
        <p class="stat-label">Rejected Claims</p>
        <p class="stat-value">{{rejected_num}}</p>
      </div>
    </div>
  </div>

  <!-- Claims List -->
  <div class="claims-grid">
    <!-- Pending Claim -->
    {% for pending_claim in pending_claims %}
    <div class="claim-card pending">
      <div class="claim-header">
        <div class="claim-id">
          <i class="fa-solid fa-car"></i>
          {{pending_claim.vehicle_name}}
        </div>
        <div class="claim-type">{{pending_claim.incident}}</div>
      </div>
      <div class="claim-body">
        <p class="claim-date">
          <i
            class="fa-regular fa-calendar"
            style="color: #64748b; font-size: 20px"
          ></i>
          {{pending_claim.claim_duration}}
        </p>
        <p class="claim-amount">R {{pending_claim.claim_amount}}</p>
        <span class="claim-status status-pending">
          <i
            class="fa-solid fa-clock"
            style="color: #f59e0b; font-size: 25px"
          ></i>
          Pending
        </span>
      </div>
    </div>
    {% endfor %}

    <!-- Approved Claim -->
    {% for approved_claim in approved_claims %}
    <div class="claim-card approved">
      <div class="claim-header">
        <div class="claim-id">
          <i
            class="fa-regular fa-file"
            style="color: #1e293b; font-size: 20px"
          ></i>
          {{approved_claim.vehicle_name}}
        </div>
        <div class="claim-type">{{approved_claim.incident}}</div>
      </div>
      <div class="claim-body">
        <p class="claim-date">
          <i
            class="fa-regular fa-calendar"
            style="color: #64748b; font-size: 20px"
          ></i>
          {{approved_claim.claim_duration}}
        </p>
        <p class="claim-amount">R {{approved_claim.claim_amount}}</p>
        <span class="claim-status status-approved">
          <i
            class="fa-solid fa-circle-check"
            style="color: #63e6be; font-size: 25px"
          ></i>
          Approved
        </span>
      </div>
    </div>
    {% endfor %}

    <!-- Rejected Claim -->
    {% for rejected_claim in rejected_claims %}
    <div class="claim-card rejected">
      <div class="claim-header">
        <div class="claim-id">
          <i
            class="fa-regular fa-file"
            style="color: #1e293b; font-size: 20px"
          ></i>
          {{rejected_claim.claim_id}}
        </div>
        <div class="claim-type">{{rejected_claim.incident}}</div>
      </div>
      <div class="claim-body">
        <p class="claim-date">
          <i
            class="fa-regular fa-calendar"
            style="color: #64748b; font-size: 20px"
          ></i>
          {{rejected_claim.claim_duration}}
        </p>
        <p class="claim-amount">R {{rejected_claim.claim_amount}}</p>
        <span class="claim-status status-rejected">
          <i
            class="fa-solid fa-xmark"
            style="color: #ef4444; font-size: 25px"
          ></i>
          Rejected
        </span>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
  crossorigin="anonymous"
></script>
{% endblock %}
